/*
* EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011 gskinner.com, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{};(function(){var c=function(){throw"UID cannot be instantiated";};c._nextID=0;c.get=function(){return c._nextID++};createjs.UID=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype;c.initialize=function(b){b.addEventListener=a.addEventListener;b.removeEventListener=a.removeEventListener;b.removeAllEventListeners=a.removeAllEventListeners;b.hasEventListener=a.hasEventListener;b.dispatchEvent=a.dispatchEvent};a._listeners=null;a.initialize=function(){};a.addEventListener=function(b,a){var e=this._listeners;e?this.removeEventListener(b,a):e=this._listeners={};var d=e[b];d||(d=e[b]=[]);d.push(a);return a};a.removeEventListener=
function(b,a){var e=this._listeners;if(e){var d=e[b];if(d)for(var c=0,g=d.length;c<g;c++)if(d[c]==a){1==g?delete e[b]:d.splice(c,1);break}}};a.removeAllEventListeners=function(b){b?this._listeners&&delete this._listeners[b]:this._listeners=null};a.dispatchEvent=function(b,a){var e=!1,d=this._listeners;if(b&&d){"string"==typeof b&&(b={type:b});d=d[b.type];if(!d)return e;b.target=a||this;for(var d=d.slice(),c=0,g=d.length;c<g;c++)var h=d[c],e=h.handleEvent?e||h.handleEvent(b):e||h(b)}return!!e};a.hasEventListener=
function(b){var a=this._listeners;return!(!a||!a[b])};a.toString=function(){return"[EventDispatcher]"};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Ticker cannot be instantiated.";};c.RAF_SYNCHED="synched";c.RAF="raf";c.TIMEOUT="timeout";c.useRAF=!1;c.timingMode=null;c.addEventListener=null;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._listeners=null;c._pauseable=null;c._paused=!1;c._inited=!1;c._startTime=0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;
c._tickTimes=null;c._rafActive=!1;c._timeoutID=null;c.addListener=function(b,a){null!=b&&(c.removeListener(b),c._pauseable[c._listeners.length]=null==a?!0:a,c._listeners.push(b))};c.init=function(){c._inited=!0;c._times=[];c._tickTimes=[];c._pauseable=[];c._listeners=[];c._times.push(c._lastTime=c._startTime=c._getTime());c.setInterval(c._interval)};c.removeListener=function(b){var a=c._listeners;a&&(b=a.indexOf(b),-1!=b&&(a.splice(b,1),c._pauseable.splice(b,1)))};c.removeAllListeners=function(){c._listeners=
[];c._pauseable=[]};c.setInterval=function(b){c._interval=b;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(b){c.setInterval(1E3/b)};c.getFPS=function(){return 1E3/c._interval};c.getMeasuredTickTime=function(b){var a=c._tickTimes;if(1>a.length)return-1;b=Math.min(a.length,b||c.getFPS()|0);for(var e=0;e<b;e++);return a/b};c.getMeasuredFPS=function(b){var a=c._times;if(2>a.length)return-1;b=Math.min(a.length-1,b||c.getFPS()|0);return 1E3/((a[0]-a[b])/b)};c.setPaused=
function(b){c._paused=b};c.getPaused=function(){return c._paused};c.getTime=function(b){return c._getTime()-c._startTime-(b?c._pausedTime:0)};c.getTicks=function(b){return c._ticks-(b?c._pausedTicks:0)};c._handleSynch=function(){c._rafActive=!1;c._setupTick();c._getTime()-c._lastTime>=0.97*(c._interval-1)&&c._tick()};c._handleRAF=function(){c._rafActive=!1;c._setupTick();c._tick()};c._handleTimeout=function(){c.timeoutID=null;c._setupTick();c._tick()};c._setupTick=function(){if(!(c._rafActive||null!=
c.timeoutID)){var b=c.timingMode||c.useRAF&&c.RAF_SYNCHED;if(b==c.RAF_SYNCHED||b==c.RAF){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(a){a(b==c.RAF?c._handleRAF:c._handleSynch);c._rafActive=!0;return}}c.timeoutID=setTimeout(c._handleTimeout,c._interval)}};c._tick=function(){var b=c._getTime();c._ticks++;var a=b-c._lastTime,e=c._paused;e&&(c._pausedTicks++,c._pausedTime+=a);
c._lastTime=b;for(var d=c._pauseable,f=c._listeners.slice(),g=f?f.length:0,h=0;h<g;h++){var j=f[h];null==j||e&&d[h]||(j.tick?j.tick(a,e):j instanceof Function&&j(a,e))}c.dispatchEvent({type:"tick",paused:e,delta:a,time:b,runTime:b-c._pausedTime});for(c._tickTimes.unshift(c._getTime()-b);100<c._tickTimes.length;)c._tickTimes.pop();for(c._times.unshift(b);100<c._times.length;)c._times.pop()};var a=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);
c._getTime=function(){return a&&a.call(performance)||(new Date).getTime()};c.init();createjs.Ticker=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,e,d,c,g,h,j,k){this.initialize(b,a,e,d,c,g,h,j,k)},a=c.prototype;a.stageX=0;a.stageY=0;a.rawX=0;a.rawY=0;a.type=null;a.nativeEvent=null;a.onMouseMove=null;a.onMouseUp=null;a.target=null;a.pointerID=0;a.primary=!1;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a.initialize=function(b,a,e,d,c,g,h,j,k){this.type=b;this.stageX=a;this.stageY=
e;this.target=d;this.nativeEvent=c;this.pointerID=g;this.primary=h;this.rawX=null==j?a:j;this.rawY=null==k?e:k};a.clone=function(){return new c(this.type,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};a.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,e,d,c,g){this.initialize(b,a,e,d,c,g)},a=c.prototype;c.identity=null;c.DEG_TO_RAD=Math.PI/180;a.a=1;a.b=0;a.c=0;a.d=1;a.tx=0;a.ty=0;a.alpha=1;a.shadow=null;a.compositeOperation=null;a.initialize=function(b,a,e,d,c,g){null!=b&&(this.a=b);this.b=a||0;this.c=e||0;null!=d&&(this.d=d);this.tx=c||0;this.ty=g||0;return this};a.prepend=function(b,a,e,d,c,g){var h=this.tx;if(1!=b||0!=a||0!=e||1!=d){var j=this.a,k=this.c;this.a=j*b+this.b*e;this.b=j*a+this.b*d;this.c=k*b+this.d*
e;this.d=k*a+this.d*d}this.tx=h*b+this.ty*e+c;this.ty=h*a+this.ty*d+g;return this};a.append=function(b,a,e,d,c,g){var h=this.a,j=this.b,k=this.c,l=this.d;this.a=b*h+a*k;this.b=b*j+a*l;this.c=e*h+d*k;this.d=e*j+d*l;this.tx=c*h+g*k+this.tx;this.ty=c*j+g*l+this.ty;return this};a.prependMatrix=function(b){this.prepend(b.a,b.b,b.c,b.d,b.tx,b.ty);this.prependProperties(b.alpha,b.shadow,b.compositeOperation);return this};a.appendMatrix=function(b){this.append(b.a,b.b,b.c,b.d,b.tx,b.ty);this.appendProperties(b.alpha,
b.shadow,b.compositeOperation);return this};a.prependTransform=function(b,a,e,d,f,g,h,j,k){if(f%360){var l=f*c.DEG_TO_RAD;f=Math.cos(l);l=Math.sin(l)}else f=1,l=0;if(j||k)this.tx-=j,this.ty-=k;g||h?(g*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.prepend(f*e,l*e,-l*d,f*d,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),b,a)):this.prepend(f*e,l*e,-l*d,f*d,b,a);return this};a.appendTransform=function(b,a,e,d,f,g,h,j,k){if(f%360){var l=f*c.DEG_TO_RAD;f=Math.cos(l);l=Math.sin(l)}else f=1,l=0;g||
h?(g*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),b,a),this.append(f*e,l*e,-l*d,f*d,0,0)):this.append(f*e,l*e,-l*d,f*d,b,a);if(j||k)this.tx-=j*this.a+k*this.c,this.ty-=j*this.b+k*this.d;return this};a.rotate=function(b){var a=Math.cos(b);b=Math.sin(b);var e=this.a,d=this.c,c=this.tx;this.a=e*a-this.b*b;this.b=e*b+this.b*a;this.c=d*a-this.d*b;this.d=d*b+this.d*a;this.tx=c*a-this.ty*b;this.ty=c*b+this.ty*a;return this};a.skew=function(b,a){b*=c.DEG_TO_RAD;
a*=c.DEG_TO_RAD;this.append(Math.cos(a),Math.sin(a),-Math.sin(b),Math.cos(b),0,0);return this};a.scale=function(b,a){this.a*=b;this.d*=a;this.c*=b;this.b*=a;this.tx*=b;this.ty*=a;return this};a.translate=function(b,a){this.tx+=b;this.ty+=a;return this};a.identity=function(){this.alpha=this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;this.shadow=this.compositeOperation=null;return this};a.invert=function(){var b=this.a,a=this.b,e=this.c,d=this.d,c=this.tx,g=b*d-a*e;this.a=d/g;this.b=-a/g;this.c=-e/
g;this.d=b/g;this.tx=(e*this.ty-d*c)/g;this.ty=-(b*this.ty-a*c)/g;return this};a.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d};a.decompose=function(b){null==b&&(b={});b.x=this.tx;b.y=this.ty;b.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);b.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var a=Math.atan2(-this.c,this.d),e=Math.atan2(this.b,this.a);a==e?(b.rotation=e/c.DEG_TO_RAD,0>this.a&&0<=this.d&&(b.rotation+=0>=b.rotation?180:-180),b.skewX=b.skewY=
0):(b.skewX=a/c.DEG_TO_RAD,b.skewY=e/c.DEG_TO_RAD);return b};a.reinitialize=function(b,a,e,d,c,g,h,j,k){this.initialize(b,a,e,d,c,g);this.alpha=h||1;this.shadow=j;this.compositeOperation=k;return this};a.appendProperties=function(b,a,e){this.alpha*=b;this.shadow=a||this.shadow;this.compositeOperation=e||this.compositeOperation;return this};a.prependProperties=function(b,a,e){this.alpha*=b;this.shadow=this.shadow||a;this.compositeOperation=this.compositeOperation||e;return this};a.clone=function(){var b=
new c(this.a,this.b,this.c,this.d,this.tx,this.ty);b.shadow=this.shadow;b.alpha=this.alpha;b.compositeOperation=this.compositeOperation;return b};a.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};c.identity=new c(1,0,0,1,0,0);createjs.Matrix2D=c})();this.createjs=this.createjs||{};(function(){var c=function(b,a){this.initialize(b,a)},a=c.prototype;a.x=0;a.y=0;a.initialize=function(b,a){this.x=null==b?0:b;this.y=null==a?0:a};a.clone=function(){return new c(this.x,this.y)};a.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=c})();this.createjs=this.createjs||{};(function(){var c=function(b,a,e,d){this.initialize(b,a,e,d)},a=c.prototype;a.x=0;a.y=0;a.width=0;a.height=0;a.initialize=function(b,a,e,d){this.x=null==b?0:b;this.y=null==a?0:a;this.width=null==e?0:e;this.height=null==d?0:d};a.clone=function(){return new c(this.x,this.y,this.width,this.height)};a.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,e,d,c,g,h){this.initialize(b,a,e,d,c,g,h)},a=c.prototype;a.target=null;a.overLabel=null;a.outLabel=null;a.downLabel=null;a.play=!1;a._isPressed=!1;a._isOver=!1;a.initialize=function(b,a,e,d,c,g,h){b.addEventListener&&(this.target=b,b.cursor="pointer",this.overLabel=null==e?"over":e,this.outLabel=null==a?"out":a,this.downLabel=null==d?"down":d,this.play=c,this.setEnabled(!0),this.handleEvent({}),g&&(h&&(g.actionsEnabled=!1,g.gotoAndStop&&g.gotoAndStop(h)),b.hitArea=g))};
a.setEnabled=function(b){var a=this.target;b?(a.addEventListener("mouseover",this),a.addEventListener("mouseout",this),a.addEventListener("mousedown",this)):(a.removeEventListener("mouseover",this),a.removeEventListener("mouseout",this),a.removeEventListener("mousedown",this))};a.toString=function(){return"[ButtonHelper]"};a.handleEvent=function(b){var a=this.target,e=b.type;"mousedown"==e?(b.addEventListener("mouseup",this),this._isPressed=!0,b=this.downLabel):"mouseup"==e?(this._isPressed=!1,b=
this._isOver?this.overLabel:this.outLabel):"mouseover"==e?(this._isOver=!0,b=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,b=this._isPressed?this.overLabel:this.outLabel);this.play?a.gotoAndPlay&&a.gotoAndPlay(b):a.gotoAndStop&&a.gotoAndStop(b)};createjs.ButtonHelper=c})();this.createjs=this.createjs||{};(function(){var c=function(b,a,e,d){this.initialize(b,a,e,d)},a=c.prototype;c.identity=null;a.color=null;a.offsetX=0;a.offsetY=0;a.blur=0;a.initialize=function(b,a,e,d){this.color=b;this.offsetX=a;this.offsetY=e;this.blur=d};a.toString=function(){return"[Shadow]"};a.clone=function(){return new c(this.color,this.offsetX,this.offsetY,this.blur)};c.identity=new c("transparent",0,0,0);createjs.Shadow=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype;a.complete=!0;a.framerate=0;a.onComplete=null;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._animations=null;a._frames=null;a._images=null;a._data=null;a._loadCount=0;a._frameHeight=0;a._frameWidth=0;a._numFrames=0;a._regX=0;a._regY=0;a.initialize=function(b){var a,e,d;if(null!=b){this.framerate=
b.framerate||0;if(b.images&&0<(e=b.images.length)){d=this._images=[];for(a=0;a<e;a++){var c=b.images[a];if("string"==typeof c){var g=c,c=new Image;c.src=g}d.push(c);!c.getContext&&!c.complete&&(this._loadCount++,this.complete=!1,function(b){c.onload=function(){b._handleImageLoad()}}(this))}}if(null!=b.frames)if(b.frames instanceof Array){this._frames=[];d=b.frames;a=0;for(e=d.length;a<e;a++)g=d[a],this._frames.push({image:this._images[g[4]?g[4]:0],rect:new createjs.Rectangle(g[0],g[1],g[2],g[3]),
regX:g[5]||0,regY:g[6]||0})}else e=b.frames,this._frameWidth=e.width,this._frameHeight=e.height,this._regX=e.regX||0,this._regY=e.regY||0,this._numFrames=e.count,0==this._loadCount&&this._calculateFrames();this._animations=[];if(null!=(e=b.animations)){this._data={};for(var h in e){b={name:h};g=e[h];if("number"==typeof g)d=b.frames=[g];else if(g instanceof Array)if(1==g.length)b.frames=[g[0]];else{b.speed=g[3];b.next=g[2];d=b.frames=[];for(a=g[0];a<=g[1];a++)d.push(a)}else b.speed=g.speed,b.next=
g.next,a=g.frames,d=b.frames="number"==typeof a?[a]:a.slice(0);b.next=2>d.length||!1==b.next?null:null==b.next||!0==b.next?h:b.next;b.speed||(b.speed=1);this._animations.push(h);this._data[h]=b}}}};a.getNumFrames=function(b){if(null==b)return this._frames?this._frames.length:this._numFrames;b=this._data[b];return null==b?0:b.frames.length};a.getAnimations=function(){return this._animations.slice(0)};a.getAnimation=function(b){return this._data[b]};a.getFrame=function(b){var a;return this._frames&&
(a=this._frames[b])?a:null};a.getFrameBounds=function(b){return(b=this.getFrame(b))?new createjs.Rectangle(-b.regX,-b.regY,b.rect.width,b.rect.height):null};a.toString=function(){return"[SpriteSheet]"};a.clone=function(){var b=new c;b.complete=this.complete;b._animations=this._animations;b._frames=this._frames;b._images=this._images;b._data=this._data;b._frameHeight=this._frameHeight;b._frameWidth=this._frameWidth;b._numFrames=this._numFrames;b._loadCount=this._loadCount;return b};a._handleImageLoad=
function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.onComplete&&this.onComplete(),this.dispatchEvent("complete"))};a._calculateFrames=function(){if(!(this._frames||0==this._frameWidth)){this._frames=[];for(var b=0,a=this._frameWidth,e=this._frameHeight,d=0,c=this._images;d<c.length;d++){for(var g=c[d],h=(g.width+1)/a|0,j=(g.height+1)/e|0,j=0<this._numFrames?Math.min(this._numFrames-b,h*j):h*j,k=0;k<j;k++)this._frames.push({image:g,rect:new createjs.Rectangle(k%h*a,(k/h|
0)*e,a,e),regX:this._regX,regY:this._regY});b+=j}this._numFrames=b}};createjs.SpriteSheet=c})();this.createjs=this.createjs||{};
(function(){function c(b,a,d){this.f=b;this.params=a;this.path=null==d?!0:d}c.prototype.exec=function(b){this.f.apply(b,this.params)};var a=function(){this.initialize()},b=a.prototype;a.getRGB=function(b,a,d,c){null!=b&&null==d&&(c=a,d=b&255,a=b>>8&255,b=b>>16&255);return null==c?"rgb("+b+","+a+","+d+")":"rgba("+b+","+a+","+d+","+c+")"};a.getHSL=function(b,a,c,f){return null==f?"hsl("+b%360+","+a+"%,"+c+"%)":"hsla("+b%360+","+a+"%,"+c+"%,"+f+")"};a.Command=c;a.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,
H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,"0":52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};a.STROKE_CAPS_MAP=["butt","round","square"];a.STROKE_JOINTS_MAP=["miter","round","bevel"];a._ctx=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d");a.beginCmd=new c(a._ctx.beginPath,
[],!1);a.fillCmd=new c(a._ctx.fill,[],!1);a.strokeCmd=new c(a._ctx.stroke,[],!1);b._strokeInstructions=null;b._strokeStyleInstructions=null;b._strokeIgnoreScale=!1;b._fillInstructions=null;b._fillMatrix=null;b._instructions=null;b._oldInstructions=null;b._activeInstructions=null;b._active=!1;b._dirty=!1;b.initialize=function(){this.clear();this._ctx=a._ctx};b.isEmpty=function(){return!(this._instructions.length||this._oldInstructions.length||this._activeInstructions.length)};b.draw=function(b){this._dirty&&
this._updateInstructions();for(var a=this._instructions,c=0,f=a.length;c<f;c++)a[c].exec(b)};b.drawAsPath=function(b){this._dirty&&this._updateInstructions();for(var a,c=this._instructions,f=0,g=c.length;f<g;f++)((a=c[f]).path||0==f)&&a.exec(b)};b.moveTo=function(b,a){this._activeInstructions.push(new c(this._ctx.moveTo,[b,a]));return this};b.lineTo=function(b,a){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.lineTo,[b,a]));return this};b.arcTo=function(b,a,d,f,g){this._dirty=
this._active=!0;this._activeInstructions.push(new c(this._ctx.arcTo,[b,a,d,f,g]));return this};b.arc=function(b,a,d,f,g,h){this._dirty=this._active=!0;null==h&&(h=!1);this._activeInstructions.push(new c(this._ctx.arc,[b,a,d,f,g,h]));return this};b.quadraticCurveTo=function(b,a,d,f){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.quadraticCurveTo,[b,a,d,f]));return this};b.bezierCurveTo=function(b,a,d,f,g,h){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.bezierCurveTo,
[b,a,d,f,g,h]));return this};b.rect=function(b,a,d,f){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.rect,[b,a,d,f]));return this};b.closePath=function(){this._active&&(this._dirty=!0,this._activeInstructions.push(new c(this._ctx.closePath,[])));return this};b.clear=function(){this._instructions=[];this._oldInstructions=[];this._activeInstructions=[];this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=this._fillMatrix=null;this._active=this._dirty=
this._strokeIgnoreScale=!1;return this};b.beginFill=function(b){this._active&&this._newPath();this._fillInstructions=b?[new c(this._setProp,["fillStyle",b],!1)]:null;this._fillMatrix=null;return this};b.beginLinearGradientFill=function(b,a,d,f,g,h){this._active&&this._newPath();d=this._ctx.createLinearGradient(d,f,g,h);f=0;for(g=b.length;f<g;f++)d.addColorStop(a[f],b[f]);this._fillInstructions=[new c(this._setProp,["fillStyle",d],!1)];this._fillMatrix=null;return this};b.beginRadialGradientFill=function(b,
a,d,f,g,h,j,k){this._active&&this._newPath();d=this._ctx.createRadialGradient(d,f,g,h,j,k);f=0;for(g=b.length;f<g;f++)d.addColorStop(a[f],b[f]);this._fillInstructions=[new c(this._setProp,["fillStyle",d],!1)];this._fillMatrix=null;return this};b.beginBitmapFill=function(b,a,d){this._active&&this._newPath();b=this._ctx.createPattern(b,a||"");this._fillInstructions=[new c(this._setProp,["fillStyle",b],!1)];this._fillMatrix=d?[d.a,d.b,d.c,d.d,d.tx,d.ty]:null;return this};b.endFill=function(){return this.beginFill()};
b.setStrokeStyle=function(b,e,d,f,g){this._active&&this._newPath();this._strokeStyleInstructions=[new c(this._setProp,["lineWidth",null==b?"1":b],!1),new c(this._setProp,["lineCap",null==e?"butt":isNaN(e)?e:a.STROKE_CAPS_MAP[e]],!1),new c(this._setProp,["lineJoin",null==d?"miter":isNaN(d)?d:a.STROKE_JOINTS_MAP[d]],!1),new c(this._setProp,["miterLimit",null==f?"10":f],!1)];this._strokeIgnoreScale=g;return this};b.beginStroke=function(b){this._active&&this._newPath();this._strokeInstructions=b?[new c(this._setProp,
["strokeStyle",b],!1)]:null;return this};b.beginLinearGradientStroke=function(b,a,d,f,g,h){this._active&&this._newPath();d=this._ctx.createLinearGradient(d,f,g,h);f=0;for(g=b.length;f<g;f++)d.addColorStop(a[f],b[f]);this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)];return this};b.beginRadialGradientStroke=function(b,a,d,f,g,h,j,k){this._active&&this._newPath();d=this._ctx.createRadialGradient(d,f,g,h,j,k);f=0;for(g=b.length;f<g;f++)d.addColorStop(a[f],b[f]);this._strokeInstructions=
[new c(this._setProp,["strokeStyle",d],!1)];return this};b.beginBitmapStroke=function(b,a){this._active&&this._newPath();var d=this._ctx.createPattern(b,a||"");this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)];return this};b.endStroke=function(){this.beginStroke();return this};b.curveTo=b.quadraticCurveTo;b.drawRect=b.rect;b.drawRoundRect=function(b,a,c,f,g){this.drawRoundRectComplex(b,a,c,f,g,g,g,g);return this};b.drawRoundRectComplex=function(b,a,d,f,g,h,j,k){var l=(d<f?d:f)/
2,m=0,q=0,p=0,s=0;0>g&&(g*=m=-1);g>l&&(g=l);0>h&&(h*=q=-1);h>l&&(h=l);0>j&&(j*=p=-1);j>l&&(j=l);0>k&&(k*=s=-1);k>l&&(k=l);this._dirty=this._active=!0;var l=this._ctx.arcTo,r=this._ctx.lineTo;this._activeInstructions.push(new c(this._ctx.moveTo,[b+d-h,a]),new c(l,[b+d+h*q,a-h*q,b+d,a+h,h]),new c(r,[b+d,a+f-j]),new c(l,[b+d+j*p,a+f+j*p,b+d-j,a+f,j]),new c(r,[b+k,a+f]),new c(l,[b-k*s,a+f+k*s,b,a+f-k,k]),new c(r,[b,a+g]),new c(l,[b-g*m,a-g*m,b+g,a,g]),new c(this._ctx.closePath));return this};b.drawCircle=
function(b,a,c){this.arc(b,a,c,0,2*Math.PI);return this};b.drawEllipse=function(b,a,d,f){this._dirty=this._active=!0;var g=0.5522848*(d/2),h=0.5522848*(f/2),j=b+d,k=a+f;d=b+d/2;f=a+f/2;this._activeInstructions.push(new c(this._ctx.moveTo,[b,f]),new c(this._ctx.bezierCurveTo,[b,f-h,d-g,a,d,a]),new c(this._ctx.bezierCurveTo,[d+g,a,j,f-h,j,f]),new c(this._ctx.bezierCurveTo,[j,f+h,d+g,k,d,k]),new c(this._ctx.bezierCurveTo,[d-g,k,b,f+h,b,f]));return this};b.inject=function(b,a){this._dirty=this._active=
!0;this._activeInstructions.push(new c(b,[a]));return this};b.drawPolyStar=function(b,a,d,f,g,h){this._dirty=this._active=!0;null==g&&(g=0);g=1-g;h=null==h?0:h/(180/Math.PI);var j=Math.PI/f;this._activeInstructions.push(new c(this._ctx.moveTo,[b+Math.cos(h)*d,a+Math.sin(h)*d]));for(var k=0;k<f;k++)h+=j,1!=g&&this._activeInstructions.push(new c(this._ctx.lineTo,[b+Math.cos(h)*d*g,a+Math.sin(h)*d*g])),h+=j,this._activeInstructions.push(new c(this._ctx.lineTo,[b+Math.cos(h)*d,a+Math.sin(h)*d]));return this};
b.decodePath=function(b){for(var e=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],c=[2,2,4,6,0],f=0,g=b.length,h=[],j=0,k=0,l=a.BASE_64;f<g;){var m=b.charAt(f),q=l[m],p=q>>3,s=e[p];if(!s||q&3)throw"bad path data (@"+f+"): "+m;m=c[p];p||(j=k=0);h.length=0;f++;q=(q>>2&1)+2;for(p=0;p<m;p++){var r=l[b.charAt(f)],v=r>>5?-1:1,r=(r&31)<<6|l[b.charAt(f+1)];3==q&&(r=r<<6|l[b.charAt(f+2)]);r=v*r/10;p%2?j=r+=j:k=r+=k;h[p]=r;f+=q}s.apply(this,h)}return this};b.clone=function(){var b=
new a;b._instructions=this._instructions.slice();b._activeInstructions=this._activeInstructions.slice();b._oldInstructions=this._oldInstructions.slice();this._fillInstructions&&(b._fillInstructions=this._fillInstructions.slice());this._strokeInstructions&&(b._strokeInstructions=this._strokeInstructions.slice());this._strokeStyleInstructions&&(b._strokeStyleInstructions=this._strokeStyleInstructions.slice());b._active=this._active;b._dirty=this._dirty;b._fillMatrix=this._fillMatrix;b._strokeIgnoreScale=
this._strokeIgnoreScale;return b};b.toString=function(){return"[Graphics]"};b.mt=b.moveTo;b.lt=b.lineTo;b.at=b.arcTo;b.bt=b.bezierCurveTo;b.qt=b.quadraticCurveTo;b.a=b.arc;b.r=b.rect;b.cp=b.closePath;b.c=b.clear;b.f=b.beginFill;b.lf=b.beginLinearGradientFill;b.rf=b.beginRadialGradientFill;b.bf=b.beginBitmapFill;b.ef=b.endFill;b.ss=b.setStrokeStyle;b.s=b.beginStroke;b.ls=b.beginLinearGradientStroke;b.rs=b.beginRadialGradientStroke;b.bs=b.beginBitmapStroke;b.es=b.endStroke;b.dr=b.drawRect;b.rr=b.drawRoundRect;
b.rc=b.drawRoundRectComplex;b.dc=b.drawCircle;b.de=b.drawEllipse;b.dp=b.drawPolyStar;b.p=b.decodePath;b._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(a.beginCmd);this._appendInstructions(this._fillInstructions);this._appendInstructions(this._strokeInstructions);this._appendInstructions(this._strokeInstructions&&this._strokeStyleInstructions);this._appendInstructions(this._activeInstructions);this._fillInstructions&&this._appendDraw(a.fillCmd,
this._fillMatrix);this._strokeInstructions&&this._appendDraw(a.strokeCmd,this._strokeIgnoreScale&&[1,0,0,1,0,0])};b._appendInstructions=function(b){b&&this._instructions.push.apply(this._instructions,b)};b._appendDraw=function(b,a){a?this._instructions.push(new c(this._ctx.save,[],!1),new c(this._ctx.setTransform,a,!1),b,new c(this._ctx.restore,[],!1)):this._instructions.push(b)};b._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=this._instructions;this._activeInstructions=
[];this._active=this._dirty=!1};b._setProp=function(b,a){this[b]=a};createjs.Graphics=a})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype;c.suppressCrossDomainErrors=!1;c._hitTestCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c._hitTestCanvas.width=c._hitTestCanvas.height=1;c._hitTestContext=c._hitTestCanvas.getContext("2d");c._nextCacheID=1;a.alpha=1;a.cacheCanvas=null;a.id=-1;a.mouseEnabled=!0;a.name=null;a.parent=null;a.regX=0;a.regY=0;a.rotation=0;a.scaleX=1;a.scaleY=1;a.skewX=0;a.skewY=0;a.shadow=null;a.visible=!0;a.x=0;a.y=0;a.compositeOperation=
null;a.snapToPixel=!1;a.onPress=null;a.onClick=null;a.onDoubleClick=null;a.onMouseOver=null;a.onMouseOut=null;a.onTick=null;a.filters=null;a.cacheID=0;a.mask=null;a.hitArea=null;a.cursor=null;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._cacheOffsetX=0;a._cacheOffsetY=0;a._cacheScale=1;a._cacheDataURLID=0;a._cacheDataURL=null;a._matrix=null;a.initialize=function(){this.id=
createjs.UID.get();this._matrix=new createjs.Matrix2D};a.isVisible=function(){return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY))};a.draw=function(b,a){var e=this.cacheCanvas;if(a||!e)return!1;var c=this._cacheScale;b.drawImage(e,this._cacheOffsetX,this._cacheOffsetY,e.width/c,e.height/c);return!0};a.updateContext=function(b){var a,e=this.mask;e&&(e.graphics&&!e.graphics.isEmpty())&&(a=e.getMatrix(e._matrix),b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty),e.graphics.drawAsPath(b),b.clip(),
a.invert(),b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty));a=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY);createjs.Stage._snapToPixelEnabled&&this.snapToPixel?b.transform(a.a,a.b,a.c,a.d,a.tx+0.5|0,a.ty+0.5|0):b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty);b.globalAlpha*=this.alpha;this.compositeOperation&&(b.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(b,this.shadow)};a.cache=function(b,
a,e,c,f){f=f||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this.cacheCanvas.width=Math.ceil(e*f);this.cacheCanvas.height=Math.ceil(c*f);this._cacheOffsetX=b;this._cacheOffsetY=a;this._cacheScale=f||1;this.updateCache()};a.updateCache=function(b){var a=this.cacheCanvas,e=this._cacheScale,d=this._cacheOffsetX*e,f=this._cacheOffsetY*e;if(!a)throw"cache() must be called before updateCache()";var g=a.getContext("2d");g.save();b||
g.clearRect(0,0,a.width+1,a.height+1);g.globalCompositeOperation=b;g.setTransform(e,0,0,e,-d,-f);this.draw(g,!0);this._applyFilters();g.restore();this.cacheID=c._nextCacheID++};a.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0;this._cacheScale=1};a.getCacheDataURL=function(){if(!this.cacheCanvas)return null;this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL());return this._cacheDataURL};a.getStage=function(){for(var b=
this;b.parent;)b=b.parent;return b instanceof createjs.Stage?b:null};a.localToGlobal=function(b,a){var e=this.getConcatenatedMatrix(this._matrix);if(null==e)return null;e.append(1,0,0,1,b,a);return new createjs.Point(e.tx,e.ty)};a.globalToLocal=function(b,a){var e=this.getConcatenatedMatrix(this._matrix);if(null==e)return null;e.invert();e.append(1,0,0,1,b,a);return new createjs.Point(e.tx,e.ty)};a.localToLocal=function(b,a,e){b=this.localToGlobal(b,a);return e.globalToLocal(b.x,b.y)};a.setTransform=
function(b,a,e,c,f,g,h,j,k){this.x=b||0;this.y=a||0;this.scaleX=null==e?1:e;this.scaleY=null==c?1:c;this.rotation=f||0;this.skewX=g||0;this.skewY=h||0;this.regX=j||0;this.regY=k||0;return this};a.getMatrix=function(b){return(b?b.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)};a.getConcatenatedMatrix=function(b){b?b.identity():b=new createjs.Matrix2D;
for(var a=this;null!=a;)b.prependTransform(a.x,a.y,a.scaleX,a.scaleY,a.rotation,a.skewX,a.skewY,a.regX,a.regY).prependProperties(a.alpha,a.shadow,a.compositeOperation),a=a.parent;return b};a.hitTest=function(b,a){var e=c._hitTestContext;e.setTransform(1,0,0,1,-b,-a);this.draw(e);var d=this._testHit(e);e.setTransform(1,0,0,1,0,0);e.clearRect(0,0,2,2);return d};a.set=function(b){for(var a in b)this[a]=b[a];return this};a.clone=function(){var b=new c;this.cloneProps(b);return b};a.toString=function(){return"[DisplayObject (name="+
this.name+")]"};a.cloneProps=function(b){b.alpha=this.alpha;b.name=this.name;b.regX=this.regX;b.regY=this.regY;b.rotation=this.rotation;b.scaleX=this.scaleX;b.scaleY=this.scaleY;b.shadow=this.shadow;b.skewX=this.skewX;b.skewY=this.skewY;b.visible=this.visible;b.x=this.x;b.y=this.y;b.mouseEnabled=this.mouseEnabled;b.compositeOperation=this.compositeOperation;this.cacheCanvas&&(b.cacheCanvas=this.cacheCanvas.cloneNode(!0),b.cacheCanvas.getContext("2d").putImageData(this.cacheCanvas.getContext("2d").getImageData(0,
0,this.cacheCanvas.width,this.cacheCanvas.height),0,0))};a._applyShadow=function(b,a){a=a||Shadow.identity;b.shadowColor=a.color;b.shadowOffsetX=a.offsetX;b.shadowOffsetY=a.offsetY;b.shadowBlur=a.blur};a._tick=function(b){this.onTick&&this.onTick.apply(this,b);var a=this._listeners;a&&a.tick&&this.dispatchEvent({type:"tick",params:b})};a._testHit=function(b){try{var a=1<b.getImageData(0,0,1,1).data[3]}catch(e){if(!c.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";
}return a};a._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var b=this.filters.length,a=this.cacheCanvas.getContext("2d"),e=this.cacheCanvas.width,c=this.cacheCanvas.height,f=0;f<b;f++)this.filters[f].applyFilter(a,0,0,e,c)};a._hasMouseHandler=function(b){var a=this._listeners;return!!(b&1&&(this.onPress||this.onClick||this.onDoubleClick||a&&(this.hasEventListener("mousedown")||this.hasEventListener("click")||this.hasEventListener("dblclick")))||b&2&&(this.onMouseOver||
this.onMouseOut||this.cursor||a&&(this.hasEventListener("mouseover")||this.hasEventListener("mouseout"))))};createjs.DisplayObject=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype=new createjs.DisplayObject;a.children=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(){this.DisplayObject_initialize();this.children=[]};a.isVisible=function(){var b=this.cacheCanvas||this.children.length;return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b))};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;for(var e=this.children.slice(0),c=0,f=e.length;c<
f;c++){var g=e[c];g.isVisible()&&(b.save(),g.updateContext(b),g.draw(b),b.restore())}return!0};a.addChild=function(b){if(null==b)return b;var a=arguments.length;if(1<a){for(var e=0;e<a;e++)this.addChild(arguments[e]);return arguments[a-1]}b.parent&&b.parent.removeChild(b);b.parent=this;this.children.push(b);return b};a.addChildAt=function(b,a){var e=arguments.length,c=arguments[e-1];if(0>c||c>this.children.length)return arguments[e-2];if(2<e){for(var f=0;f<e-1;f++)this.addChildAt(arguments[f],c+f);
return arguments[e-2]}b.parent&&b.parent.removeChild(b);b.parent=this;this.children.splice(a,0,b);return b};a.removeChild=function(b){var a=arguments.length;if(1<a){for(var e=!0,c=0;c<a;c++)e=e&&this.removeChild(arguments[c]);return e}return this.removeChildAt(this.children.indexOf(b))};a.removeChildAt=function(b){var a=arguments.length;if(1<a){for(var e=[],c=0;c<a;c++)e[c]=arguments[c];e.sort(function(b,a){return a-b});for(var f=!0,c=0;c<a;c++)f=f&&this.removeChildAt(e[c]);return f}if(0>b||b>this.children.length-
1)return!1;if(a=this.children[b])a.parent=null;this.children.splice(b,1);return!0};a.removeAllChildren=function(){for(var b=this.children;b.length;)b.pop().parent=null};a.getChildAt=function(b){return this.children[b]};a.getChildByName=function(b){for(var a=this.children,e=0,c=a.length;e<c;e++)if(a[e].name==b)return a[e];return null};a.sortChildren=function(b){this.children.sort(b)};a.getChildIndex=function(b){return this.children.indexOf(b)};a.getNumChildren=function(){return this.children.length};
a.swapChildrenAt=function(b,a){var e=this.children,c=e[b],f=e[a];c&&f&&(e[b]=f,e[a]=c)};a.swapChildren=function(b,a){for(var e=this.children,c,f,g=0,h=e.length;g<h&&!(e[g]==b&&(c=g),e[g]==a&&(f=g),null!=c&&null!=f);g++);g!=h&&(e[c]=a,e[f]=b)};a.setChildIndex=function(b,a){var c=this.children,d=c.length;if(!(b.parent!=this||0>a||a>=d)){for(var f=0;f<d&&c[f]!=b;f++);f==d||f==a||(c.splice(f,1),c.splice(a,0,b))}};a.contains=function(b){for(;b;){if(b==this)return!0;b=b.parent}return!1};a.hitTest=function(b,
a){return null!=this.getObjectUnderPoint(b,a)};a.getObjectsUnderPoint=function(b,a){var c=[],d=this.localToGlobal(b,a);this._getObjectsUnderPoint(d.x,d.y,c);return c};a.getObjectUnderPoint=function(b,a){var c=this.localToGlobal(b,a);return this._getObjectsUnderPoint(c.x,c.y)};a.clone=function(b){var a=new c;this.cloneProps(a);if(b)for(var e=a.children=[],d=0,f=this.children.length;d<f;d++){var g=this.children[d].clone(b);g.parent=a;e.push(g)}return a};a.toString=function(){return"[Container (name="+
this.name+")]"};a.DisplayObject__tick=a._tick;a._tick=function(b){for(var a=this.children.length-1;0<=a;a--){var c=this.children[a];c._tick&&c._tick(b)}this.DisplayObject__tick(b)};a._getObjectsUnderPoint=function(b,a,e,d){var f=createjs.DisplayObject._hitTestContext,g=this._matrix,h=this._hasMouseHandler(d);if(!this.hitArea&&(this.cacheCanvas&&h)&&(this.getConcatenatedMatrix(g),f.setTransform(g.a,g.b,g.c,g.d,g.tx-b,g.ty-a),f.globalAlpha=g.alpha,this.draw(f),this._testHit(f)))return f.setTransform(1,
0,0,1,0,0),f.clearRect(0,0,2,2),this;for(var j=this.children.length-1;0<=j;j--){var k=this.children[j],l=k.hitArea;if(k.visible&&!(!l&&!k.isVisible()||d&&!k.mouseEnabled)){var m=d&&k._hasMouseHandler(d);if(k instanceof c&&(!l||!m))if(h){if(k=k._getObjectsUnderPoint(b,a))return this}else{if(k=k._getObjectsUnderPoint(b,a,e,d),!e&&k)return k}else if(!d||h||m)if(k.getConcatenatedMatrix(g),l&&(g.appendTransform(l.x,l.y,l.scaleX,l.scaleY,l.rotation,l.skewX,l.skewY,l.regX,l.regY),g.alpha=l.alpha),f.globalAlpha=
g.alpha,f.setTransform(g.a,g.b,g.c,g.d,g.tx-b,g.ty-a),(l||k).draw(f),this._testHit(f)){f.setTransform(1,0,0,1,0,0);f.clearRect(0,0,2,2);if(h)return this;if(e)e.push(k);else return k}}}return null};createjs.Container=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.Container;c._snapToPixelEnabled=!1;a.autoClear=!0;a.canvas=null;a.mouseX=0;a.mouseY=0;a.onMouseMove=null;a.onMouseUp=null;a.onMouseDown=null;a.snapToPixelEnabled=!1;a.mouseInBounds=!1;a.tickOnUpdate=!0;a.mouseMoveOutside=!1;a._pointerData=null;a._pointerCount=0;a._primaryPointerID=null;a._mouseOverIntervalID=null;a.Container_initialize=a.initialize;a.initialize=function(b){this.Container_initialize();this.canvas="string"==
typeof b?document.getElementById(b):b;this._pointerData={};this.enableDOMEvents(!0)};a.update=function(){if(this.canvas){this.autoClear&&this.clear();c._snapToPixelEnabled=this.snapToPixelEnabled;this.tickOnUpdate&&this._tick(arguments.length?arguments:null);var b=this.canvas.getContext("2d");b.save();this.updateContext(b);this.draw(b,!1);b.restore()}};a.tick=a.update;a.handleEvent=function(b){"tick"==b.type&&this.update(b)};a.clear=function(){if(this.canvas){var b=this.canvas.getContext("2d");b.setTransform(1,
0,0,1,0,0);b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};a.toDataURL=function(b,a){a||(a="image/png");var c=this.canvas.getContext("2d"),d=this.canvas.width,f=this.canvas.height,g;if(b){g=c.getImageData(0,0,d,f);var h=c.globalCompositeOperation;c.globalCompositeOperation="destination-over";c.fillStyle=b;c.fillRect(0,0,d,f)}var j=this.canvas.toDataURL(a);b&&(c.clearRect(0,0,d+1,f+1),c.putImageData(g,0,0),c.globalCompositeOperation=h);return j};a.enableMouseOver=function(b){this._mouseOverIntervalID&&
(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null);if(null==b)b=20;else if(0>=b)return;var a=this;this._mouseOverIntervalID=setInterval(function(){a._testMouseOver()},1E3/Math.min(50,b))};a.enableDOMEvents=function(b){null==b&&(b=!0);var a,c=this._eventListeners;if(!b&&c){for(a in c)b=c[a],b.t.removeEventListener(a,b.f,!1);this._eventListeners=null}else if(b&&!c&&this.canvas){b=window.addEventListener?window:document;var d=this,c=this._eventListeners={};c.mouseup={t:b,f:function(b){d._handleMouseUp(b)}};
c.mousemove={t:b,f:function(b){d._handleMouseMove(b)}};c.dblclick={t:b,f:function(b){d._handleDoubleClick(b)}};c.mousedown={t:this.canvas,f:function(b){d._handleMouseDown(b)}};for(a in c)b=c[a],b.t.addEventListener(a,b.f,!1)}};a.clone=function(){var b=new c(null);this.cloneProps(b);return b};a.toString=function(){return"[Stage (name="+this.name+")]"};a._getPointerData=function(b){var a=this._pointerData[b];a||(a=this._pointerData[b]={x:0,y:0},null==this._primaryPointerID&&(this._primaryPointerID=
b));return a};a._handleMouseMove=function(b){b||(b=window.event);this._handlePointerMove(-1,b,b.pageX,b.pageY)};a._handlePointerMove=function(b,a,c,d){if(this.canvas){var f=this._getPointerData(b),g=f.inBounds;this._updatePointerPosition(b,c,d);if(g||f.inBounds||this.mouseMoveOutside){if(this.onMouseMove||this.hasEventListener("stagemousemove"))c=new createjs.MouseEvent("stagemousemove",f.x,f.y,this,a,b,b==this._primaryPointerID,f.rawX,f.rawY),this.onMouseMove&&this.onMouseMove(c),this.dispatchEvent(c);
if((d=f.event)&&(d.onMouseMove||d.hasEventListener("mousemove")))c=new createjs.MouseEvent("mousemove",f.x,f.y,d.target,a,b,b==this._primaryPointerID,f.rawX,f.rawY),d.onMouseMove&&d.onMouseMove(c),d.dispatchEvent(c,d.target)}}};a._updatePointerPosition=function(b,a,c){var d=this._getElementRect(this.canvas);a-=d.left;c-=d.top;var f=this.canvas.width,g=this.canvas.height;a/=(d.right-d.left)/f;c/=(d.bottom-d.top)/g;d=this._getPointerData(b);(d.inBounds=0<=a&&0<=c&&a<=f-1&&c<=g-1)?(d.x=a,d.y=c):this.mouseMoveOutside&&
(d.x=0>a?0:a>f-1?f-1:a,d.y=0>c?0:c>g-1?g-1:c);d.rawX=a;d.rawY=c;b==this._primaryPointerID&&(this.mouseX=d.x,this.mouseY=d.y,this.mouseInBounds=d.inBounds)};a._getElementRect=function(b){var a;try{a=b.getBoundingClientRect()}catch(c){a={top:b.offsetTop,left:b.offsetLeft,width:b.offsetWidth,height:b.offsetHeight}}var d=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),f=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||
0),g=window.getComputedStyle?getComputedStyle(b):b.currentStyle;b=parseInt(g.paddingLeft)+parseInt(g.borderLeftWidth);var h=parseInt(g.paddingTop)+parseInt(g.borderTopWidth),j=parseInt(g.paddingRight)+parseInt(g.borderRightWidth),g=parseInt(g.paddingBottom)+parseInt(g.borderBottomWidth);return{left:a.left+d+b,right:a.right+d-j,top:a.top+f+h,bottom:a.bottom+f-g}};a._handleMouseUp=function(b){this._handlePointerUp(-1,b,!1)};a._handlePointerUp=function(b,a,c){var d=this._getPointerData(b),f;if(this.onMouseMove||
this.hasEventListener("stagemouseup"))f=new createjs.MouseEvent("stagemouseup",d.x,d.y,this,a,b,b==this._primaryPointerID,d.rawX,d.rawY),this.onMouseUp&&this.onMouseUp(f),this.dispatchEvent(f);var g=d.event;if(g&&(g.onMouseUp||g.hasEventListener("mouseup")))f=new createjs.MouseEvent("mouseup",d.x,d.y,g.target,a,b,b==this._primaryPointerID,d.rawX,d.rawY),g.onMouseUp&&g.onMouseUp(f),g.dispatchEvent(f,g.target);if((g=d.target)&&(g.onClick||g.hasEventListener("click"))&&this._getObjectsUnderPoint(d.x,
d.y,null,!0,this._mouseOverIntervalID?3:1)==g)f=new createjs.MouseEvent("click",d.x,d.y,g,a,b,b==this._primaryPointerID,d.rawX,d.rawY),g.onClick&&g.onClick(f),g.dispatchEvent(f);c?(b==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[b]):d.event=d.target=null};a._handleMouseDown=function(b){this._handlePointerDown(-1,b,!1)};a._handlePointerDown=function(b,a,c,d){var f=this._getPointerData(b);null!=d&&this._updatePointerPosition(b,c,d);if(this.onMouseDown||this.hasEventListener("stagemousedown"))c=
new createjs.MouseEvent("stagemousedown",f.x,f.y,this,a,b,b==this._primaryPointerID,f.rawX,f.rawY),this.onMouseDown&&this.onMouseDown(c),this.dispatchEvent(c);if(d=this._getObjectsUnderPoint(f.x,f.y,null,this._mouseOverIntervalID?3:1))if(f.target=d,d.onPress||d.hasEventListener("mousedown"))if(c=new createjs.MouseEvent("mousedown",f.x,f.y,d,a,b,b==this._primaryPointerID,f.rawX,f.rawY),d.onPress&&d.onPress(c),d.dispatchEvent(c),c.onMouseMove||c.onMouseUp||c.hasEventListener("mousemove")||c.hasEventListener("mouseup"))f.event=
c};a._testMouseOver=function(){if(-1==this._primaryPointerID&&!(this.mouseX==this._mouseOverX&&this.mouseY==this._mouseOverY&&this.mouseInBounds)){var b=null;this.mouseInBounds&&(b=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,3),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var a=this._mouseOverTarget;if(a!=b){var c=this._getPointerData(-1);if(a&&(a.onMouseOut||a.hasEventListener("mouseout"))){var d=new createjs.MouseEvent("mouseout",c.x,c.y,a,null,-1,c.rawX,c.rawY);a.onMouseOut&&
a.onMouseOut(d);a.dispatchEvent(d)}a&&(this.canvas.style.cursor="");if(b&&(b.onMouseOver||b.hasEventListener("mouseover")))d=new createjs.MouseEvent("mouseover",c.x,c.y,b,null,-1,c.rawX,c.rawY),b.onMouseOver&&b.onMouseOver(d),b.dispatchEvent(d);b&&(this.canvas.style.cursor=b.cursor||"");this._mouseOverTarget=b}}};a._handleDoubleClick=function(b){var a=this._getPointerData(-1),c=this._getObjectsUnderPoint(a.x,a.y,null,this._mouseOverIntervalID?3:1);if(c&&(c.onDoubleClick||c.hasEventListener("dblclick")))evt=
new createjs.MouseEvent("dblclick",a.x,a.y,c,b,-1,!0,a.rawX,a.rawY),c.onDoubleClick&&c.onDoubleClick(evt),c.dispatchEvent(evt)};createjs.Stage=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.image=null;a.snapToPixel=!0;a.sourceRect=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){this.DisplayObject_initialize();"string"==typeof b?(this.image=new Image,this.image.src=b):this.image=b};a.isVisible=function(){var b=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState);return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&
b))};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;var c=this.sourceRect;c?b.drawImage(this.image,c.x,c.y,c.width,c.height,0,0,c.width,c.height):b.drawImage(this.image,0,0);return!0};a.clone=function(){var b=new c(this.image);this.sourceRect&&(b.sourceRect=this.sourceRect.clone());this.cloneProps(b);return b};a.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a){this.initialize(b,a)},a=c.prototype=new createjs.DisplayObject;a.onAnimationEnd=null;a.currentFrame=0;a.currentAnimation=null;a.paused=!0;a.spriteSheet=null;a.snapToPixel=!0;a.offset=0;a.currentAnimationFrame=0;a.framerate=0;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._advanceCount=0;a._animation=null;a._currentFrame=null;a.DisplayObject_initialize=
a.initialize;a.initialize=function(b,a){this.DisplayObject_initialize();this.spriteSheet=b;a&&this.gotoAndPlay(a)};a.isVisible=function(){var b=this.cacheCanvas||this.spriteSheet.complete;return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b))};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(this._currentFrame|0);if(c){var d=c.rect;b.drawImage(c.image,d.x,d.y,d.width,d.height,-c.regX,
-c.regY,d.width,d.height);return!0}};a.play=function(){this.paused=!1};a.stop=function(){this.paused=!0};a.gotoAndPlay=function(b){this.paused=!1;this._goto(b)};a.gotoAndStop=function(b){this.paused=!0;this._goto(b)};a.advance=function(b){var a=this._animation&&this._animation.speed||1,c=this.framerate||this.spriteSheet.framerate;b=c&&null!=b?b/(1E3/c):1;this._animation?this.currentAnimationFrame+=b*a:this._currentFrame+=b*a;this._normalizeFrame()};a.getBounds=function(){return this.spriteSheet.getFrameBounds(this.currentFrame)};
a.clone=function(){var b=new c(this.spriteSheet);this.cloneProps(b);return b};a.toString=function(){return"[Sprite (name="+this.name+")]"};a.DisplayObject__tick=a._tick;a._tick=function(b){this.paused||this.advance(b&&b[0]&&b[0].delta);this.DisplayObject__tick(b)};a._normalizeFrame=function(){var b=this._animation,a=this.paused,c=this._currentFrame,d=this.currentAnimationFrame,f;if(b)if(f=b.frames.length,(d|0)>=f){var g=b.next;if(!this._dispatchAnimationEnd(b,c,a,g,f-1)){if(g)return this._goto(g,
d-f);this.paused=!0;d=this.currentAnimationFrame=b.frames.length-1;this._currentFrame=b.frames[d]}}else this._currentFrame=b.frames[d|0];else if(f=this.spriteSheet.getNumFrames(),c>=f&&!this._dispatchAnimationEnd(b,c,a,f-1)&&(this._currentFrame-=f)>=f)return this._normalizeFrame();this.currentFrame=this._currentFrame|0};a._dispatchAnimationEnd=function(b,a,c,d,f){var g=b?b.name:null;this.onAnimationEnd&&this.onAnimationEnd(this,g,d);this.dispatchEvent({type:"animationend",name:g,next:d});!c&&this.paused&&
(this.currentAnimationFrame=f);return this.paused!=c||this._animation!=b||this._currentFrame!=a};a.DisplayObject_cloneProps=a.cloneProps;a.cloneProps=function(b){this.DisplayObject_cloneProps(b);b.onAnimationEnd=this.onAnimationEnd;b.currentFrame=this.currentFrame;b._currentFrame=this._currentFrame;b.currentAnimation=this.currentAnimation;b.paused=this.paused;b._animation=this._animation;b.currentAnimationFrame=this.currentAnimationFrame};a._goto=function(b,a){if(isNaN(b)){var c=this.spriteSheet.getAnimation(b);
c&&(this.currentAnimationFrame=a||0,this._animation=c,this.currentAnimation=b,this._normalizeFrame())}else this.currentAnimationFrame=0,this.currentAnimation=this._animation=null,this._currentFrame=b,this._normalizeFrame()};createjs.Sprite=c})();this.createjs=this.createjs||{};(function(){if(!createjs.Sprite)throw"BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.";(createjs.BitmapAnimation=function(c){console.log("BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.");this.initialize(c)}).prototype=new createjs.Sprite})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.graphics=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){this.DisplayObject_initialize();this.graphics=b?b:new createjs.Graphics};a.isVisible=function(){var b=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b))};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;this.graphics.draw(b);
return!0};a.clone=function(b){b=new c(b&&this.graphics?this.graphics.clone():this.graphics);this.cloneProps(b);return b};a.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,c){this.initialize(b,a,c)},a=c.prototype=new createjs.DisplayObject;c._workingContext=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d");a.text="";a.font=null;a.color=null;a.textAlign="left";a.textBaseline="top";a.maxWidth=null;a.outline=0;a.lineHeight=0;a.lineWidth=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b,a,c){this.DisplayObject_initialize();this.text=b;this.font=a;this.color=c};a.isVisible=
function(){var b=this.cacheCanvas||null!=this.text&&""!==this.text;return!(!this.visible||!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b))};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;var c=this.color||"#000";this.outline?(b.strokeStyle=c,b.lineWidth=1*this.outline):b.fillStyle=c;b.font=this.font;b.textAlign=this.textAlign||"start";b.textBaseline=this.textBaseline||"alphabetic";this._drawText(b);return!0};a.getMeasuredWidth=function(){return this._getWorkingContext().measureText(this.text).width};
a.getMeasuredLineHeight=function(){return 1.2*this._getWorkingContext().measureText("M").width};a.getMeasuredHeight=function(){return this._drawText()*(this.lineHeight||this.getMeasuredLineHeight())};a.clone=function(){var b=new c(this.text,this.font,this.color);this.cloneProps(b);return b};a.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};a.DisplayObject_cloneProps=a.cloneProps;a.cloneProps=function(b){this.DisplayObject_cloneProps(b);b.textAlign=
this.textAlign;b.textBaseline=this.textBaseline;b.maxWidth=this.maxWidth;b.outline=this.outline;b.lineHeight=this.lineHeight;b.lineWidth=this.lineWidth};a._getWorkingContext=function(){var b=c._workingContext;b.font=this.font;b.textAlign=this.textAlign||"start";b.textBaseline=this.textBaseline||"alphabetic";return b};a._drawText=function(b){var a=!!b;a||(b=this._getWorkingContext());for(var c=String(this.text).split(/(?:\r\n|\r|\n)/),d=this.lineHeight||this.getMeasuredLineHeight(),f=0,g=0,h=c.length;g<
h;g++){var j=b.measureText(c[g]).width;if(null==this.lineWidth||j<this.lineWidth)a&&this._drawTextLine(b,c[g],f*d);else{for(var j=c[g].split(/(\s)/),k=j[0],l=1,m=j.length;l<m;l+=2)b.measureText(k+j[l]+j[l+1]).width>this.lineWidth?(a&&this._drawTextLine(b,k,f*d),f++,k=j[l+1]):k+=j[l]+j[l+1];a&&this._drawTextLine(b,k,f*d)}f++}return f};a._drawTextLine=function(b,a,c){this.outline?b.strokeText(a,0,c,this.maxWidth||65535):b.fillText(a,0,c,this.maxWidth||65535)};createjs.Text=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"SpriteSheetUtils cannot be instantiated";};c._workingCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");c._workingContext=c._workingCanvas.getContext("2d");c.addFlippedFrames=function(a,b,n,e){if(b||n||e){var d=0;b&&c._flip(a,++d,!0,!1);n&&c._flip(a,++d,!1,!0);e&&c._flip(a,++d,!0,!0)}};c.extractFrame=function(a,b){isNaN(b)&&(b=a.getAnimation(b).frames[0]);var n=a.getFrame(b);if(!n)return null;var e=n.rect,d=c._workingCanvas;d.width=
e.width;d.height=e.height;c._workingContext.drawImage(n.image,e.x,e.y,e.width,e.height,0,0,e.width,e.height);n=new Image;n.src=d.toDataURL("image/png");return n};c.mergeAlpha=function(a,b,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));c.width=Math.max(b.width,a.width);c.height=Math.max(b.height,a.height);var e=c.getContext("2d");e.save();e.drawImage(a,0,0);e.globalCompositeOperation="destination-in";e.drawImage(b,0,0);e.restore();return c};c._flip=function(a,
b,n,e){for(var d=a._images,f=c._workingCanvas,g=c._workingContext,h=d.length/b,j=0;j<h;j++){var k=d[j];k.__tmp=j;g.setTransform(1,0,0,1,0,0);g.clearRect(0,0,f.width+1,f.height+1);f.width=k.width;f.height=k.height;g.setTransform(n?-1:1,0,0,e?-1:1,n?k.width:0,e?k.height:0);g.drawImage(k,0,0);var l=new Image;l.src=f.toDataURL("image/png");l.width=k.width;l.height=k.height;d.push(l)}g=a._frames;f=g.length/b;for(j=0;j<f;j++){var k=g[j],m=k.rect.clone(),l=d[k.image.__tmp+h*b],q={image:l,rect:m,regX:k.regX,
regY:k.regY};n&&(m.x=l.width-m.x-m.width,q.regX=m.width-k.regX);e&&(m.y=l.height-m.y-m.height,q.regY=m.height-k.regY);g.push(q)}n="_"+(n?"h":"")+(e?"v":"");e=a._animations;a=a._data;d=e.length/b;for(j=0;j<d;j++){g=e[j];k=a[g];h={name:g+n,frequency:k.frequency,next:k.next,frames:[]};k.next&&(h.next+=n);g=k.frames;k=0;for(l=g.length;k<l;k++)h.frames.push(g[k]+f*b);a[h.name]=h;e.push(h.name)}};createjs.SpriteSheetUtils=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype;c.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";c.ERR_RUNNING="a build is already running";a.maxWidth=2048;a.maxHeight=2048;a.spriteSheet=null;a.scale=1;a.padding=1;a.timeSlice=0.3;a.progress=-1;a.onComplete=null;a.onProgress=null;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._frames=
null;a._animations=null;a._data=null;a._nextFrameIndex=0;a._index=0;a._timerID=null;a._scale=1;a.initialize=function(){this._frames=[];this._animations={}};a.addFrame=function(b,a,e,d,f,g){if(this._data)throw c.ERR_RUNNING;a=a||b.bounds||b.nominalBounds;!a&&b.getBounds&&(a=b.getBounds());if(!a)return null;e=e||1;return this._frames.push({source:b,sourceRect:a,scale:e,funct:d,params:f,scope:g,index:this._frames.length,height:a.height*e})-1};a.addAnimation=function(b,a,e,d){if(this._data)throw c.ERR_RUNNING;
this._animations[b]={frames:a,next:e,frequency:d}};a.addMovieClip=function(b,a,e){if(this._data)throw c.ERR_RUNNING;var d=b.frameBounds,f=a||b.bounds||b.nominalBounds;!f&&b.getBounds&&(f=b.getBounds());if(!f&&!d)return null;a=this._frames.length;for(var g=b.timeline.duration,h=0;h<g;h++)this.addFrame(b,d&&d[h]?d[h]:f,e,function(b){var a=this.actionsEnabled;this.actionsEnabled=!1;this.gotoAndStop(b);this.actionsEnabled=a},[h],b);h=b.timeline._labels;b=[];for(var j in h)b.push({index:h[j],label:j});
if(b.length){b.sort(function(b,a){return b.index-a.index});h=0;for(j=b.length;h<j;h++){e=b[h].label;for(var d=a+(h==j-1?g:b[h+1].index),f=[],k=a+b[h].index;k<d;k++)f.push(k);this.addAnimation(e,f,!0)}}};a.build=function(){if(this._data)throw c.ERR_RUNNING;for(this._startBuild();this._drawNext(););this._endBuild();return this.spriteSheet};a.buildAsync=function(b){if(this._data)throw c.ERR_RUNNING;this.timeSlice=b;this._startBuild();var a=this;this._timerID=setTimeout(function(){a._run()},50-50*Math.max(0.01,
Math.min(0.99,this.timeSlice||0.3)))};a.stopAsync=function(){clearTimeout(this._timerID);this._data=null};a.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};a.toString=function(){return"[SpriteSheetBuilder]"};a._startBuild=function(){var b=this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var a=[];this._data={images:[],frames:a,animations:this._animations};var e=this._frames.slice();e.sort(function(b,a){return b.height<=a.height?-1:1});if(e[e.length-
1].height+2*b>this.maxHeight)throw c.ERR_DIMENSIONS;for(var d=0,f=0,g=0;e.length;){var h=this._fillRow(e,d,g,a,b);h.w>f&&(f=h.w);d+=h.h;if(!h.h||!e.length){var j=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");j.width=this._getSize(f,this.maxWidth);j.height=this._getSize(d,this.maxHeight);this._data.images[g]=j;h.h||(f=d=0,g++)}}};a._getSize=function(b,a){for(var c=4;Math.pow(2,++c)<b;);return Math.min(a,Math.pow(2,c))};a._fillRow=function(b,a,e,d,f){var g=this.maxWidth,
h=this.maxHeight;a+=f;for(var h=h-a,j=f,k=0,l=b.length-1;0<=l;l--){var m=b[l],q=this._scale*m.scale,p=m.sourceRect,s=m.source,r=Math.floor(q*p.x-f),v=Math.floor(q*p.y-f),u=Math.ceil(q*p.height+2*f),p=Math.ceil(q*p.width+2*f);if(p>g)throw c.ERR_DIMENSIONS;u>h||j+p>g||(m.img=e,m.rect=new createjs.Rectangle(j,a,p,u),k=k||u,b.splice(l,1),d[m.index]=[j,a,p,u,e,Math.round(-r+q*s.regX-f),Math.round(-v+q*s.regY-f)],j+=p)}return{w:j,h:k}};a._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);
this._data=null;this.progress=1;this.onComplete&&this.onComplete(this);this.dispatchEvent("complete")};a._run=function(){for(var b=50*Math.max(0.01,Math.min(0.99,this.timeSlice||0.3)),a=(new Date).getTime()+b,c=!1;a>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var d=this;this._timerID=setTimeout(function(){d._run()},50-b)}b=this.progress=this._index/this._frames.length;this.onProgress&&this.onProgress(this,b);this.dispatchEvent({type:"progress",progress:b})};a._drawNext=
function(){var b=this._frames[this._index],a=b.scale*this._scale,c=b.rect,d=b.sourceRect,f=this._data.images[b.img].getContext("2d");b.funct&&b.funct.apply(b.scope,b.params);f.save();f.beginPath();f.rect(c.x,c.y,c.width,c.height);f.clip();f.translate(Math.ceil(c.x-d.x*a),Math.ceil(c.y-d.y*a));f.scale(a,a);b.source.draw(f);f.restore();return++this._index<this._frames.length};createjs.SpriteSheetBuilder=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.htmlElement=null;a._oldMtx=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){"string"==typeof b&&(b=document.getElementById(b));this.DisplayObject_initialize();this.mouseEnabled=!1;this.htmlElement=b;b=b.style;b.position="absolute";b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin="0% 0%"};a.isVisible=function(){return null!=this.htmlElement};
a.draw=function(){if(null!=this.htmlElement){var b=this.getConcatenatedMatrix(this._matrix),a=this.htmlElement.style;if(this.visible)a.visibility="visible";else return!0;var c=this._oldMtx||{};c.alpha!=b.alpha&&(a.opacity=""+b.alpha,c.alpha=b.alpha);if(c.tx!=b.tx||c.ty!=b.ty||c.a!=b.a||c.b!=b.b||c.c!=b.c||c.d!=b.d)a.transform=a.WebkitTransform=a.OTransform=a.msTransform=["matrix("+b.a,b.b,b.c,b.d,b.tx+0.5|0,(b.ty+0.5|0)+")"].join(),a.MozTransform=["matrix("+b.a,b.b,b.c,b.d,(b.tx+0.5|0)+"px",(b.ty+
0.5|0)+"px)"].join(),this._oldMtx=b.clone();return!0}};a.cache=function(){};a.uncache=function(){};a.updateCache=function(){};a.hitTest=function(){};a.localToGlobal=function(){};a.globalToLocal=function(){};a.localToLocal=function(){};a.clone=function(){throw"DOMElement cannot be cloned.";};a.toString=function(){return"[DOMElement (name="+this.name+")]"};a.DisplayObject__tick=a._tick;a._tick=function(a){this.htmlElement.style.visibility="hidden";this.DisplayObject__tick(a)};createjs.DOMElement=c})();this.createjs=this.createjs||{};(function(){var c=function(){this.initialize()},a=c.prototype;a.initialize=function(){};a.getBounds=function(){return new createjs.Rectangle(0,0,0,0)};a.applyFilter=function(){};a.toString=function(){return"[Filter]"};a.clone=function(){return new c};createjs.Filter=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},a=c.prototype=new createjs.Filter;a.initialize=function(a){this.alphaMap=a};a.alphaMap=null;a._alphaMap=null;a._mapData=null;a.applyFilter=function(a,c,e,d,f,g,h,j){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;g=g||a;null==h&&(h=c);null==j&&(j=e);try{var k=a.getImageData(c,e,d,f)}catch(l){return!1}a=k.data;c=this._mapData;e=a.length;for(d=0;d<e;d+=4)a[d+3]=c[d]||0;k.data=a;g.putImageData(k,h,j);return!0};a.clone=function(){return new c(this.mask)};
a.toString=function(){return"[AlphaMapFilter]"};a._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var a=this._alphaMap=this.alphaMap,c=a;a instanceof HTMLCanvasElement?ctx=c.getContext("2d"):(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),c.width=a.width,c.height=a.height,ctx=c.getContext("2d"),ctx.drawImage(a,0,0));try{var e=ctx.getImageData(0,0,a.width,a.height)}catch(d){return!1}this._mapData=
e.data;return!0};createjs.AlphaMapFilter=c})();this.createjs=this.createjs||{};(function(){var c=function(a){this.initialize(a)},a=c.prototype=new createjs.Filter;a.initialize=function(a){this.mask=a};a.mask=null;a.applyFilter=function(a,c,e,d,f,g,h,j){if(!this.mask)return!0;g=g||a;null==h&&(h=c);null==j&&(j=e);g.save();g.globalCompositeOperation="destination-in";g.drawImage(this.mask,h,j);g.restore();return!0};a.clone=function(){return new c(this.mask)};a.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,e,d,f,g,h,j){this.initialize(a,c,e,d,f,g,h,j)},a=c.prototype=new createjs.Filter;a.redMultiplier=1;a.greenMultiplier=1;a.blueMultiplier=1;a.alphaMultiplier=1;a.redOffset=0;a.greenOffset=0;a.blueOffset=0;a.alphaOffset=0;a.initialize=function(a,c,e,d,f,g,h,j){this.redMultiplier=null!=a?a:1;this.greenMultiplier=null!=c?c:1;this.blueMultiplier=null!=e?e:1;this.alphaMultiplier=null!=d?d:1;this.redOffset=f||0;this.greenOffset=g||0;this.blueOffset=h||0;this.alphaOffset=j||
0};a.applyFilter=function(a,c,e,d,f,g,h,j){g=g||a;null==h&&(h=c);null==j&&(j=e);try{var k=a.getImageData(c,e,d,f)}catch(l){return!1}a=k.data;c=a.length;for(e=0;e<c;e+=4)a[e]=a[e]*this.redMultiplier+this.redOffset,a[e+1]=a[e+1]*this.greenMultiplier+this.greenOffset,a[e+2]=a[e+2]*this.blueMultiplier+this.blueOffset,a[e+3]=a[e+3]*this.alphaMultiplier+this.alphaOffset;k.data=a;g.putImageData(k,h,j);return!0};a.toString=function(){return"[ColorFilter]"};a.clone=function(){return new c(this.redMultiplier,
this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)};createjs.ColorFilter=c})();this.createjs=this.createjs||{};
(function(){ColorMatrix=function(a,b,c,e){this.initialize(a,b,c,e)};var c=ColorMatrix.prototype=[];ColorMatrix.DELTA_INDEX=[0,0.01,0.02,0.04,0.05,0.06,0.07,0.08,0.1,0.11,0.12,0.14,0.15,0.16,0.17,0.18,0.2,0.21,0.22,0.24,0.25,0.27,0.28,0.3,0.32,0.34,0.36,0.38,0.4,0.42,0.44,0.46,0.48,0.5,0.53,0.56,0.59,0.62,0.65,0.68,0.71,0.74,0.77,0.8,0.83,0.86,0.89,0.92,0.95,0.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,
4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];ColorMatrix.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];ColorMatrix.LENGTH=ColorMatrix.IDENTITY_MATRIX.length;c.initialize=function(a,b,c,e){this.reset();this.adjustColor(a,b,c,e);return this};c.reset=function(){return this.copyMatrix(ColorMatrix.IDENTITY_MATRIX)};c.adjustColor=function(a,b,c,e){this.adjustHue(e);this.adjustContrast(b);this.adjustBrightness(a);return this.adjustSaturation(c)};c.adjustBrightness=
function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,255);this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]);return this};c.adjustContrast=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);var b;0>a?b=127+127*(a/100):(b=a%1,b=0==b?ColorMatrix.DELTA_INDEX[a]:ColorMatrix.DELTA_INDEX[a<<0]*(1-b)+ColorMatrix.DELTA_INDEX[(a<<0)+1]*b,b=127*b+127);this._multiplyMatrix([b/127,0,0,0,0.5*(127-b),0,b/127,0,0,0.5*(127-b),0,0,b/127,0,0.5*(127-b),0,0,0,1,0,0,0,
0,0,1]);return this};c.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);a=1+(0<a?3*a/100:a/100);this._multiplyMatrix([0.3086*(1-a)+a,0.6094*(1-a),0.082*(1-a),0,0,0.3086*(1-a),0.6094*(1-a)+a,0.082*(1-a),0,0,0.3086*(1-a),0.6094*(1-a),0.082*(1-a)+a,0,0,0,0,0,1,0,0,0,0,0,1]);return this};c.adjustHue=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a);a=Math.sin(a);this._multiplyMatrix([0.213+0.787*b+-0.213*a,0.715+-0.715*
b+-0.715*a,0.072+-0.072*b+0.928*a,0,0,0.213+-0.213*b+0.143*a,0.715+b*(1-0.715)+0.14*a,0.072+-0.072*b+-0.283*a,0,0,0.213+-0.213*b+-0.787*a,0.715+-0.715*b+0.715*a,0.072+0.928*b+0.072*a,0,0,0,0,0,1,0,0,0,0,0,1]);return this};c.concat=function(a){a=this._fixMatrix(a);if(a.length!=ColorMatrix.LENGTH)return this;this._multiplyMatrix(a);return this};c.clone=function(){return new ColorMatrix(this)};c.toArray=function(){return this.slice(0,ColorMatrix.LENGTH)};c.copyMatrix=function(a){for(var b=ColorMatrix.LENGTH,
c=0;c<b;c++)this[c]=a[c];return this};c._multiplyMatrix=function(a){for(var b=[],c=0;5>c;c++){for(var e=0;5>e;e++)b[e]=this[e+5*c];for(e=0;5>e;e++){for(var d=0,f=0;5>f;f++)d+=a[e+5*f]*b[f];this[e+5*c]=d}}};c._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))};c._fixMatrix=function(a){a instanceof ColorMatrix&&(a=a.slice(0));a.length<ColorMatrix.LENGTH?a=a.slice(0,a.length).concat(ColorMatrix.IDENTITY_MATRIX.slice(a.length,ColorMatrix.LENGTH)):a.length>ColorMatrix.LENGTH&&(a=a.slice(0,ColorMatrix.LENGTH));
return a};createjs.ColorMatrix=ColorMatrix})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},a=c.prototype=new createjs.Filter;a.matrix=null;a.initialize=function(a){this.matrix=a};a.applyFilter=function(a,c,e,d,f,g,h,j){g=g||a;null==h&&(h=c);null==j&&(j=e);try{var k=a.getImageData(c,e,d,f)}catch(l){return!1}a=k.data;c=a.length;var m,q,p,s;m=this.matrix;e=m[0];d=m[1];f=m[2];for(var r=m[3],v=m[4],u=m[5],w=m[6],x=m[7],y=m[8],z=m[9],A=m[10],B=m[11],C=m[12],D=m[13],E=m[14],F=m[15],G=m[16],H=m[17],I=m[18],J=m[19],t=0;t<c;t+=4)m=a[t],q=a[t+1],p=
a[t+2],s=a[t+3],a[t]=m*e+q*d+p*f+s*r+v,a[t+1]=m*u+q*w+p*x+s*y+z,a[t+2]=m*A+q*B+p*C+s*D+E,a[t+3]=m*F+q*G+p*H+s*I+J;k.data=a;g.putImageData(k,h,j);return!0};a.toString=function(){return"[ColorMatrixFilter]"};a.clone=function(){return new c(this.matrix)};createjs.ColorMatrixFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Touch cannot be instantiated";};c.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints};c.enable=function(a,b,n){if(!a||!a.canvas||!c.isSupported())return!1;a.__touch={pointers:{},multitouch:!b,preventDefault:!n,count:0};"ontouchstart"in window?c._IOS_enable(a):window.navigator.msPointerEnabled&&c._IE_enable(a);return!0};c.disable=function(a){a&&("ontouchstart"in window?c._IOS_disable(a):window.navigator.msPointerEnabled&&
c._IE_disable(a))};c._IOS_enable=function(a){var b=a.canvas,n=a.__touch.f=function(b){c._IOS_handleEvent(a,b)};b.addEventListener("touchstart",n,!1);b.addEventListener("touchmove",n,!1);b.addEventListener("touchend",n,!1);b.addEventListener("touchcancel",n,!1)};c._IOS_disable=function(a){var b=a.canvas;b&&(a=a.__touch.f,b.removeEventListener("touchstart",a,!1),b.removeEventListener("touchmove",a,!1),b.removeEventListener("touchend",a,!1),b.removeEventListener("touchcancel",a,!1))};c._IOS_handleEvent=
function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();for(var c=b.changedTouches,e=b.type,d=0,f=c.length;d<f;d++){var g=c[d],h=g.identifier;g.target==a.canvas&&("touchstart"==e?this._handleStart(a,h,b,g.pageX,g.pageY):"touchmove"==e?this._handleMove(a,h,b,g.pageX,g.pageY):("touchend"==e||"touchcancel"==e)&&this._handleEnd(a,h,b))}}};c._IE_enable=function(a){var b=a.canvas,n=a.__touch.f=function(b){c._IE_handleEvent(a,b)};b.addEventListener("MSPointerDown",n,!1);window.addEventListener("MSPointerMove",
n,!1);window.addEventListener("MSPointerUp",n,!1);window.addEventListener("MSPointerCancel",n,!1);a.__touch.preventDefault&&(b.style.msTouchAction="none");a.__touch.activeIDs={}};c._IE_disable=function(a){var b=a.__touch.f;window.removeEventListener("MSPointerMove",b,!1);window.removeEventListener("MSPointerUp",b,!1);window.removeEventListener("MSPointerCancel",b,!1);a.canvas&&a.canvas.removeEventListener("MSPointerDown",b,!1)};c._IE_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&
b.preventDefault();var c=b.type,e=b.pointerId,d=a.__touch.activeIDs;if("MSPointerDown"==c)b.srcElement==a.canvas&&(d[e]=!0,this._handleStart(a,e,b,b.pageX,b.pageY));else if(d[e])if("MSPointerMove"==c)this._handleMove(a,e,b,b.pageX,b.pageY);else if("MSPointerUp"==c||"MSPointerCancel"==c)delete d[e],this._handleEnd(a,e,b)}};c._handleStart=function(a,b,c,e,d){var f=a.__touch;if(f.multitouch||!f.count){var g=f.pointers;g[b]||(g[b]=!0,f.count++,a._handlePointerDown(b,c,e,d))}};c._handleMove=function(a,
b,c,e,d){a.__touch.pointers[b]&&a._handlePointerMove(b,c,e,d)};c._handleEnd=function(a,b,c){var e=a.__touch,d=e.pointers;d[b]&&(e.count--,a._handlePointerUp(b,c,!0),delete d[b])};createjs.Touch=c})();(function(){var c=this.createjs=this.createjs||{},c=c.EaselJS=c.EaselJS||{};c.version="NEXT";c.buildDate="Wed, 17 Jul 2013 17:15:05 GMT"})();
